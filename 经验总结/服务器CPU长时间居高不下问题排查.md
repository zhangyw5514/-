# 服务器CPU长时间居高不下问题排查

## 定位占用CPU的进程

通过top命令查看服务的各项负载

输入大写P按照CPU使用率排序

## 定位占用CPU的线程

从上面可以拿到pid(比如831)

通过top -Hp 831可以查看这个进程中线程的CPU的占用情况

## 定位空转线程具体操作

定位到线程之后, 我们需要定位具体为什么线程在疯狂消耗CPU

我们先把pid转换成十六进制, 可以借助mac自带计算器

比如 4425 -> 0x1149

通过命令 jstack 831 | grep "0x1149" -A 50 可以看到这个线程的栈转储

## 找到具体代码问题并解决
